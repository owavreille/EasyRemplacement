var row = document.getElementById('event_<%= @event.id %>');
row.outerHTML = '<%= j render("event_row", event: @event) %>';

// Fermer le modal avec Bootstrap 5
var modalElement = document.getElementById('payment-<%= @event.id %>');
if (modalElement) {
  var modal = bootstrap.Modal.getInstance(modalElement);
  if (modal) {
    modal.dispose();
  }
  modalElement.classList.remove('show');
  modalElement.setAttribute('aria-hidden', 'true');
  modalElement.style.display = 'none';
}

// Nettoyer les effets du modal
document.querySelectorAll('.modal-backdrop').forEach(backdrop => backdrop.remove());
document.body.classList.remove('modal-open');
document.body.style.overflow = '';
document.body.style.paddingRight = '';

// RÃ©initialiser le modal
setTimeout(function() {
  var newModal = new bootstrap.Modal(modalElement);
}, 500); 